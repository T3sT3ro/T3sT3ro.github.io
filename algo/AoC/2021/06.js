t = [5,1,1,1,3,5,1,1,1,1,5,3,1,1,3,1,1,1,4,1,1,1,1,1,2,4,3,4,1,5,3,4,1,1,5,1,2,1,1,2,1,1,2,1,1,4,2,3,2,1,4,1,1,4,2,1,4,5,5,1,1,1,1,1,2,1,1,1,2,1,5,5,1,1,4,4,5,1,1,1,3,1,5,1,2,1,5,1,4,1,3,2,4,2,1,1,4,1,1,1,1,4,1,1,1,1,1,3,5,4,1,1,3,1,1,1,2,1,1,1,1,5,1,1,1,4,1,4,1,1,1,1,1,2,1,1,5,1,2,1,1,2,1,1,2,4,1,1,5,1,3,4,1,2,4,1,1,1,1,1,4,1,1,4,2,2,1,5,1,4,1,1,5,1,1,5,5,1,1,1,1,1,5,2,1,3,3,1,1,1,3,2,4,5,1,2,1,5,1,4,1,5,1,1,1,1,1,1,4,3,1,1,3,3,1,4,5,1,1,4,1,4,3,4,1,1,1,2,2,1,2,5,1,1,3,5,2,1,1,1,1,1,1,1,4,4,1,5,4,1,1,1,1,1,2,1,2,1,5,1,1,3,1,1,1,1,1,1,1,1,1,1,2,1,3,1,5,3,3,1,1,2,4,4,1,1,2,1,1,3,1,1,1,1,2,3,4,1,1,2];

const _ = require('lodash');

f = t;
for(let i = 0; i < 80; i++) {
    f = f.map(x => x-1).map(x => x == -1 ? [6, 8] : x).flat();
}
console.log(f.length);

f = _(t).countBy().value();
f = Object.assign([0,0,0,0,0,0,0,0,0], f);
console.log(_.countBy(t));
for(let i = 0; i < 256; i++) {
    f = ({
        0: f[1], 1: f[2], 2:f[3], 3:f[4], 4:f[5], 5:f[6], 6:f[0]+(f[7] || 0), 7:(f[8] || 0), 8:f[0]
    });
}

console.log(_(f).values().sum());